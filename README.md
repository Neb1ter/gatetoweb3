# å¸åœˆçœé’±æŒ‡å— (gatetoweb3)

> ä¸€ç«™å¼åŠ å¯†è´§å¸äº¤æ˜“æ‰€çœé’±æ”»ç•¥å¹³å°ï¼Œæ¶µç›–æ³¨å†Œè¿”ä½£ã€åŠŸèƒ½ä»‹ç»ã€äº¤æ˜“æ‰€å¯¹æ¯”ã€æ¨¡æ‹Ÿå™¨ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

---

## ğŸ“¸ é¡µé¢é¢„è§ˆ

### é¦–é¡µ â€” äº¤æ˜“æ‰€è·‘é©¬ç¯ & ä¸‰å¤§æ¿å—å…¥å£
![é¦–é¡µé¢„è§ˆ](docs/screenshot-home.png)

### äº¤æ˜“æ‰€ä¸­å¿ƒ â€” è¿”ä½£å¯¹æ¯” & æ‰‹ç»­è´¹ä¸€è§ˆ
![äº¤æ˜“æ‰€ä¸­å¿ƒ](docs/screenshot-exchanges.png)

### äº¤æ˜“æ‰€æ‰«ç›²æŒ‡å— â€” åŠŸèƒ½ä»‹ç»ï¼ˆ15 ä¸ªåˆ†ç±»ï¼‰
![åŠŸèƒ½ä»‹ç»](docs/screenshot-exchange-guide.png)

### äº¤æ˜“æ‰€å¯¹æ¯” Tab â€” äº”å¤§äº¤æ˜“æ‰€åŠŸèƒ½å…¨è§ˆ
![äº¤æ˜“æ‰€å¯¹æ¯”](docs/screenshot-compare.png)

---

## ğŸš€ Manus å¿«é€Ÿå¯åŠ¨æŒ‡å—

ä» GitHub å¯¼å…¥åˆ° Manus åï¼ŒæŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œå³å¯ç«‹å³ä½¿ç”¨**é¡µé¢æ¦‚è§ˆ**å’Œ**ä»ªè¡¨ç›˜**åŠŸèƒ½ï¼š

```bash
# 1. å®‰è£…ä¾èµ–
pnpm install

# 2. æ¨é€æ•°æ®åº“ schema å¹¶è‡ªåŠ¨åˆå§‹åŒ– seed æ•°æ®
pnpm db:push

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
```

> **è¯´æ˜ï¼š** `pnpm db:push` ä¼šè‡ªåŠ¨æ‰§è¡Œ `drizzle-kit generate` + `drizzle-kit migrate`ï¼Œå¹¶è§¦å‘å†…ç½®çš„ seed é€»è¾‘ï¼Œåˆå§‹åŒ–äº¤æ˜“æ‰€åŠŸèƒ½åˆ†ç±»ï¼ˆ15 ç±»ï¼‰å’Œå¯¹æ¯”æ•°æ®ï¼ˆ70 æ¡ï¼‰ã€‚æ— éœ€æ‰‹åŠ¨å¯¼å…¥ SQLã€‚

---

## ğŸ›  æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| å‰ç«¯ | React 19 + Tailwind CSS 4 + shadcn/ui |
| åç«¯ | Express 4 + tRPC 11 |
| æ•°æ®åº“ | MySQL/TiDBï¼ˆDrizzle ORMï¼‰ |
| è®¤è¯ | Manus OAuthï¼ˆå·²å†…ç½®ï¼‰ |
| æµ‹è¯• | Vitestï¼ˆ31 ä¸ªæµ‹è¯•ï¼Œå…¨éƒ¨é€šè¿‡ï¼‰ |

---

## ğŸ“ å…³é”®æ–‡ä»¶

```
drizzle/schema.ts        â†’ æ•°æ®åº“è¡¨ç»“æ„ï¼ˆ7 å¼ è¡¨ï¼‰
server/db.ts             â†’ æ•°æ®åº“æŸ¥è¯¢åŠ©æ‰‹
server/routers.ts        â†’ tRPC è·¯ç”±ï¼ˆå« seed é€»è¾‘ï¼‰
client/src/App.tsx       â†’ è·¯ç”±é…ç½®
client/src/pages/        â†’ æ‰€æœ‰é¡µé¢ç»„ä»¶
```

---

## ğŸ“‹ ä¸»è¦åŠŸèƒ½é¡µé¢

| è·¯ç”± | åŠŸèƒ½ |
|------|------|
| `/` | é¦–é¡µï¼ˆäº¤æ˜“æ‰€æ¨è + è·‘é©¬ç¯ï¼‰ |
| `/exchange-guide` | åŠŸèƒ½ä»‹ç» & äº¤æ˜“æ‰€å¯¹æ¯”ï¼ˆ15 ä¸ªåŠŸèƒ½åˆ†ç±»ï¼‰ |
| `/exchanges` | äº¤æ˜“æ‰€ä¸­å¿ƒï¼ˆè¿”ä½£å¯¹æ¯” + æ‰‹ç»­è´¹ï¼‰ |
| `/faq` | å¸¸è§é—®é¢˜ |
| `/news` | åŠ å¯†è´§å¸èµ„è®¯ |
| `/crypto-intro` | åŠ å¯†è´§å¸å…¥é—¨æ•™ç¨‹ |
| `/sim/*` | æ¨¡æ‹Ÿå™¨ï¼ˆç½‘æ ¼/DCA/åˆçº¦ç­‰ï¼‰ |
| `/admin/exchange-guide` | åå°ç®¡ç†ï¼ˆåŠŸèƒ½åˆ†ç±» + å¯¹æ¯”æ•°æ® CRUDï¼‰ |

---

## ğŸ§ª è¿è¡Œæµ‹è¯•

```bash
pnpm test
```

å½“å‰æµ‹è¯•è¦†ç›–ï¼šauthã€exchange guideã€FAQ/newsã€crypto introã€contactã€exchange linksã€feature seedï¼ˆå…± 31 ä¸ªæµ‹è¯•ï¼‰ã€‚

---

## ğŸ”‘ ç¯å¢ƒå˜é‡

æ‰€æœ‰ç¯å¢ƒå˜é‡ç”± Manus å¹³å°è‡ªåŠ¨æ³¨å…¥ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½® `.env` æ–‡ä»¶ã€‚å…³é”®å˜é‡è¯¦è§ `.env.example` å’Œ `server/_core/env.ts`ã€‚

---

## â“ å¸¸è§é—®é¢˜æ’æŸ¥

### `pnpm db:push` å¤±è´¥

**ç—‡çŠ¶ï¼š** æ‰§è¡Œæ—¶æŠ¥ `Access denied` æˆ– `Connection refused`ã€‚

**åŸå› ä¸è§£å†³æ–¹å¼ï¼š**

1. **åœ¨ Manus ç¯å¢ƒä¸­è¿è¡Œ**ï¼š`DATABASE_URL` ç”±å¹³å°è‡ªåŠ¨æ³¨å…¥ï¼Œé€šå¸¸ä¸ä¼šå¤±è´¥ã€‚è‹¥æŠ¥é”™ï¼Œæ£€æŸ¥é¡¹ç›®æ˜¯å¦å·²æ­£ç¡®åˆå§‹åŒ–ï¼ˆ`webdev_init_project` æ˜¯å¦å®Œæˆï¼‰ã€‚
2. **åœ¨æœ¬åœ°ç¯å¢ƒä¸­è¿è¡Œ**ï¼šéœ€åœ¨ `.env` æ–‡ä»¶ä¸­æ‰‹åŠ¨é…ç½® `DATABASE_URL`ï¼Œæ ¼å¼ä¸º `mysql://user:password@host:port/dbname`ã€‚
3. **Schema å†²çª**ï¼šè‹¥æ•°æ®åº“å·²æœ‰æ—§è¡¨ç»“æ„ï¼Œå¯å°è¯• `pnpm exec drizzle-kit drop` æ¸…ç©ºè¿ç§»è®°å½•åé‡æ–°æ‰§è¡Œ `pnpm db:push`ã€‚

---

### OAuth ç™»å½•å¤±è´¥ / å›è°ƒåœ°å€é”™è¯¯

**ç—‡çŠ¶ï¼š** ç‚¹å‡»ç™»å½•åè·³è½¬åˆ°é”™è¯¯é¡µé¢ï¼Œæˆ–æç¤º `redirect_uri mismatch`ã€‚

**åŸå› ä¸è§£å†³æ–¹å¼ï¼š**

1. **Manus ç¯å¢ƒ**ï¼šOAuth å›è°ƒåœ°å€ç”±å¹³å°è‡ªåŠ¨é…ç½®ä¸º `https://{your-domain}/api/oauth/callback`ï¼Œæ— éœ€æ‰‹åŠ¨è®¾ç½®ã€‚
2. **æœ¬åœ°å¼€å‘**ï¼šéœ€åœ¨ Manus æ§åˆ¶å°å°† `http://localhost:3000/api/oauth/callback` æ·»åŠ åˆ° OAuth åº”ç”¨çš„å…è®¸å›è°ƒåœ°å€åˆ—è¡¨ä¸­ã€‚
3. **`VITE_APP_ID` æœªé…ç½®**ï¼šç¡®è®¤ `.env` ä¸­å·²å¡«å†™æ­£ç¡®çš„ `VITE_APP_ID`ï¼ˆä» Manus æ§åˆ¶å°è·å–ï¼‰ã€‚

---

### é¡µé¢æ•°æ®ä¸ºç©ºï¼ˆåŠŸèƒ½ä»‹ç» / äº¤æ˜“æ‰€å¯¹æ¯”æ— å†…å®¹ï¼‰

**ç—‡çŠ¶ï¼š** `/exchange-guide` é¡µé¢åŠ è½½ååŠŸèƒ½åˆ†ç±»åˆ—è¡¨ä¸ºç©ºã€‚

**åŸå› ä¸è§£å†³æ–¹å¼ï¼š**

1. **æœªæ‰§è¡Œ `pnpm db:push`**ï¼šseed æ•°æ®åœ¨é¦–æ¬¡ migrate æ—¶è‡ªåŠ¨å†™å…¥ï¼Œå¿…é¡»å…ˆæ‰§è¡Œæ­¤å‘½ä»¤ã€‚
2. **seed æœªè§¦å‘**ï¼šæ£€æŸ¥ `server/routers.ts` ä¸­çš„ `seedExchangeFeatureData()` å‡½æ•°æ˜¯å¦æ­£å¸¸æ‰§è¡Œã€‚å¯åœ¨ Manus æ•°æ®åº“é¢æ¿ä¸­ç›´æ¥æŸ¥çœ‹ `exchange_feature_categories` è¡¨æ˜¯å¦æœ‰æ•°æ®ã€‚
3. **æ‰‹åŠ¨è§¦å‘ seed**ï¼šè®¿é—® `/api/trpc/exchangeGuide.seedData`ï¼ˆéœ€ç®¡ç†å‘˜æƒé™ï¼‰å¯æ‰‹åŠ¨è§¦å‘æ•°æ®åˆå§‹åŒ–ã€‚

---

### `pnpm install` ä¾èµ–å®‰è£…ç¼“æ…¢æˆ–å¤±è´¥

**ç—‡çŠ¶ï¼š** å®‰è£…æ—¶é—´è¿‡é•¿æˆ–æŠ¥ç½‘ç»œé”™è¯¯ã€‚

**è§£å†³æ–¹å¼ï¼š**

```bash
# ä½¿ç”¨å›½å†…é•œåƒï¼ˆä¸­å›½å¤§é™†ç”¨æˆ·ï¼‰
pnpm config set registry https://registry.npmmirror.com
pnpm install

# æˆ–æ¸…é™¤ç¼“å­˜åé‡è¯•
pnpm store prune
pnpm install
```

---

### TypeScript ç¼–è¯‘æŠ¥é”™

**ç—‡çŠ¶ï¼š** å¯åŠ¨æ—¶æ§åˆ¶å°æŠ¥ `TS2xxx` é”™è¯¯ã€‚

**è§£å†³æ–¹å¼ï¼š**

```bash
# æ£€æŸ¥å…·ä½“é”™è¯¯
pnpm exec tsc --noEmit

# é‡æ–°ç”Ÿæˆ Drizzle ç±»å‹
pnpm db:push
```

---

### å¼€å‘æœåŠ¡å™¨ç«¯å£å†²çª

**ç—‡çŠ¶ï¼š** å¯åŠ¨æ—¶æŠ¥ `EADDRINUSE: address already in use :::3000`ã€‚

**è§£å†³æ–¹å¼ï¼š**

```bash
# æŸ¥æ‰¾å¹¶ç»ˆæ­¢å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -ti:3000 | xargs kill -9
pnpm dev
```
